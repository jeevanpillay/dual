---
date: 2026-02-13T00:00:00Z
researcher: Claude
git_commit: cab4d14
branch: feature/build-loop-pipeline
repository: dual
topic: "CLI module research for MVP build"
tags: [research, codebase, cli, clap, build-loop]
status: complete
last_updated: 2026-02-13
last_updated_by: Claude
---

# Research: CLI Module for Dual MVP

**Date**: 2026-02-13
**Researcher**: Claude
**Git Commit**: cab4d14
**Branch**: feature/build-loop-pipeline
**Repository**: dual

## Research Question

What exists in the codebase for the CLI module, and what needs to be built?

## Summary

The codebase is at initialization state. `src/main.rs` contains only `Hello, world!`. No CLI parsing, no dependencies, no modules exist. The entire CLI needs to be built from scratch.

## Detailed Findings

### Current State

- `Cargo.toml`: Package `dual` v0.1.0, edition 2024, no dependencies
- `src/main.rs`: Single `fn main()` printing "Hello, world!"
- No `lib.rs`, no module files, no test files
- Rust 1.93.0, Cargo 1.93.0
- Distribution targets configured for 5 platforms

### Required CLI Commands (from SPEC.md)

1. `dual` (no args) — launch workspace picker
2. `dual open [workspace]` — open services in browser
3. `dual urls [workspace]` — list running workspace URLs
4. `dual list` — list workspaces (implied by SPEC.md workspace states)
5. `dual destroy` — teardown workspace (implied by container lifecycle)

### Technology Choice

**clap** (v4) with derive macros is the standard Rust CLI framework:
- Widely used, well-maintained
- Derive macros minimize boilerplate
- Supports subcommands, default commands, help text, version
- Works on all target platforms

### Architecture Constraints

- CLI is the entry point — all other modules depend on it
- Must be extensible to add subcommands as modules are built
- Stub handlers sufficient for now — real implementations come from downstream modules

## Code References

- `src/main.rs:1-3` — Current Hello World placeholder
- `Cargo.toml:1-6` — Package definition, no deps

## Open Questions

None — straightforward foundation module.
